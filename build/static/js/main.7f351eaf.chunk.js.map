{"version":3,"sources":["firebase.js","Chat/Component/Display/displayCell.tsx","Chat/Container/Display/displayCell.tsx","Chat/Component/Display/display.tsx","Chat/Container/Display/display.tsx","Chat/Component/WritingSpace/writingSpace.tsx","Context/contexts.ts","Chat/Container/WritingSpace/writingSpace.tsx","Utils/Component/Dialog/infDialog.tsx","Utils/Container/Dialog/infDialog.tsx","Chat/Component/Timer/timer.tsx","Chat/Container/Timer/timer.tsx","Chat/Component/dipTheme.tsx","Chat/Container/dispTheme.tsx","Chat/Component/chat.tsx","Chat/Container/chat.tsx","Chat/Component/main.tsx","Upload/Component/timer.tsx","Upload/Container/timer.tsx","Utils/Component/Dialog/cfmDialog.tsx","Utils/Container/Dialog/cfmDialog.tsx","Upload/Component/exitBtn.tsx","Upload/Container/exitBtn.tsx","Upload/Component/uploadCard.tsx","Upload/Container/uploadCard.tsx","Upload/Component/upload.tsx","Upload/Container/upload.tsx","Upload/Component/main.tsx","Functions/constants.ts","DispPicture/Component/detailPicture.tsx","DispPicture/Container/detailPicture.tsx","DispPicture/Component/exitBtn.tsx","DispPicture/Container/exitBtn.tsx","DispPicture/Component/allPicture.tsx","DispPicture/Container/allPicture.tsx","DispPicture/Component/timer.tsx","DispPicture/Container/timer.tsx","DispPicture/Component/dispPicture.tsx","DispPicture/Container/dispPicrue.tsx","DispPicture/Component/main.tsx","Home/Component/msgDisp.tsx","Home/Container/msgDisp.tsx","Home/Component/dispPicture.tsx","Home/Container/dispPicture.tsx","Home/Component/Btn/entryBtn.tsx","Home/Container/Btn/entryBtn.tsx","Home/Component/loginDialog.tsx","Home/Container/loginDialog.tsx","Home/Component/Btn/loginBtn.tsx","Home/Container/Btn/loginBtn.tsx","Home/Component/home.tsx","Home/Container/home.tsx","Home/Component/main.tsx","Header/Component/header.tsx","Header/Container/header.tsx","Header/Component/main.tsx","App.tsx","Functions/find-user.ts","Model/user.ts","Functions/write-user.ts","FirebaseApp.tsx","Style/theme.ts","index.tsx"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","firestore","storage","useStyle","makeStyles","createStyles","tableRow","height","DisplayCell","props","message","styles","TableRow","className","TableCell","align","width","photoUrl","Avatar","src","Typography","tableContainer","maxHeight","gridRow","gridColumn","table","tableBody","textAlign","Display","messages","TableContainer","Table","stickyHeader","TableBody","Array","length","map","_","index","useState","setMessages","useEffect","id","unmounted","getMessage","a","messagesRef","collection","orderBy","limit","get","then","snapshot","newMessages","forEach","doc","push","data","reverse","timer","window","setTimeout","clearTimeout","theme","input","buttonBox","display","justifyContent","alignItems","button","backgroundColor","palette","primary","WritingSpace","handleContentChange","submitError","handleOnSubmit","TextField","onChange","margin","label","fullWidth","autoFocus","multiline","rows","value","error","helperText","Box","Button","onClick","variant","color","FirebaseContext","createContext","auth","UserContext","user","credential","setCredential","setMessage","setSubmitError","useContext","e","target","set","displayName","screenName","createdAt","FieldValue","serverTimestamp","InfDialog","infOpen","title","msgElm","clickOK","txtOK","Dialog","open","DialogTitle","DialogContent","DialogContentText","DialogActions","msg","_msg","arrText","split","item","component","clockStyle","fontSize","clockStyleDanger","Timer","tmMinutes","tmSeconds","danger","isEnd","Paper","end","setEnd","setTmMinutes","setTmSeconds","setDanger","setIsEnd","history","useHistory","moment","startOf","endTime","add","updateTime","useCallback","dtNow","timerDiff","diff","String","Math","floor","updateTimeId","setInterval","clearInterval","dispTheme","DispTheme","drawTheme","setDrawTheme","gridTemplateColumns","gridTemplateRows","writingSpace","borderColor","Chat","root","Main","setTimerEnd","CfmDialog","cfmOpen","clickNG","txtNG","exitfab","position","bottom","right","ExitBtn","setCfmOpen","Fab","cardCommon","header","contentCommon","content","media","paddingTop","objectFit","upload","UploadCard","getRootProps","getInputProps","myFiles","clickable","handleUpload","handleTitleChange","subHeader","query","Card","CardHeader","subheader","CardContent","file","Fragment","name","CardActions","type","disabled","style","marginTop","CardMedia","image","setIsUpd","setMyFiles","setClickable","setSrc","setTitle","setHeader","setSubHeader","onDrop","acceptedFiles","handlePreview","alert","useDropzone","onDropRejected","accepterdImg","storageRef","ref","put","on","TaskEvent","STATE_CHANGED","next","console","log","postUrl","getDownloadURL","url","imageUrl","iconUrl","percent","bytesTransferred","totalBytes","files","reader","FileReader","readAsDataURL","onload","result","timerDisp","uploadCommon","Upload","timerEnd","isUpd","rootPC","rootPhone","collectionName","useStyles","minWidth","iconButton","DetailPicture","handleFavClick","isFav","isDisabled","favCount","avatar","IconButton","favNum","setFavNum","setIsFav","setIsDisabled","setFavCount","postFavorite","batch","favoriteUsersDoc","favoriteNumDoc","count","increment","merge","commit","deleteFavorite","delete","getFavCounts","favCountsRef","getData","catch","prev","commonPC","commonPhone","countfab","left","AllPicture","images","setImages","imagesRef","newImages","getImages","padding","dispPictureCommon","flexWrap","paddingLeft","paddingRight","DispPicture","msgStyle","msgStyleMax","MsgDisp","isMax","setMsg","AutoPlaySwipeableViews","autoPlay","SwipeableViews","imgBoxPC","imgPC","maxWidth","imgPhone","activeStep","maxSteps","handleNext","handleBack","handleStepChange","axis","onChangeIndex","enableMouseEvents","abs","MobileStepper","steps","nextButton","size","backButton","setActiveStep","setMaxSteps","setImage","prevActiveStep","step","EntryBtn","setInfOpen","entryClick","setIsMax","setDisabled","doneEntry","numbers","maximum","getMember","entoryMembersRef","exists","Login","uiConfig","onClose","firebaseAuth","LoginDialog","signInFlow","signInOptions","provider","TwitterAuthProvider","PROVIDER_ID","customParameters","lang","callbacks","signInFailure","signInSuccessWithAuthResult","authResult","redirectUrl","dest","replace","LoginBtn","loginClick","setOpen","msgDisp","dispCommonPC","picDispPC","picDispPhone","buttonBoxPC","buttonBoxPhone","entryPC","entryPhone","loginPC","loginPhone","Home","flexGrow","Header","isLogined","handleMenu","anchorEl","menuOpen","handleClose","signOut","dialogOpen","setDialogOpen","AppBar","Toolbar","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","MenuItem","setIsLogined","setAnchorEl","Boolean","currentTarget","App","CssBaseline","path","exact","to","findUser","theUser","userDoc","blankUser","description","providerUid","updatedAt","writeUser","firebaseUser","uid","photoURL","additionalUserInfo","username","profile","id_str","Error","where","rnd","random","sprintf","isEmpty","update","counterDoc","FirebaseApp","children","setUser","counterRef","useRef","unsubscribe","onAuthStateChanged","current","Provider","PCTheme","createTheme","main","secondary","PhoneTheme","typography","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7f351eaf.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/storage\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAI7yPnV5DiOAEgW0kGRhh9NsuePU3gmU4\",\n  authDomain: \"drawing-b8a00.firebaseapp.com\",\n  projectId: \"drawing-b8a00\",\n  storageBucket: \"drawing-b8a00.appspot.com\",\n  messagingSenderId: \"563652193074\",\n  appId: \"1:563652193074:web:134deadd221d5ceed4c52b\",\n};\n\nfirebase.initializeApp(firebaseConfig);\nexport default firebase;\nexport const db = firebase.firestore();\nexport const storage = firebase.storage();\n","import React from 'react';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableCell from '@material-ui/core/TableCell';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\n\nimport { Message } from '../../../Model/message';\n\nconst useStyle = makeStyles(() =>\n  createStyles({\n    tableRow: {\n      height: 'calc(((100vh - 180px) * 0.95) / 28'\n    }\n  })\n);\n\ntype DisplayCellProps = {\n  message: Message | null;\n};\n\nconst DisplayCell: React.FC<DisplayCellProps> = (props: DisplayCellProps) => {\n  const { message = null } = props;\n  const styles = useStyle();\n  return (\n    <>\n      {message ? (\n        <TableRow className={styles.tableRow}>\n          <TableCell align='left' width={'100px'}>\n            {message.photoUrl && message ? (\n              <Avatar src={message.photoUrl} />\n            ) : (\n              <Avatar>N</Avatar>\n            )}\n          </TableCell>\n          <TableCell align='left'>\n            <Typography>{message.message}</Typography>\n          </TableCell>\n        </TableRow>\n      ) : null}\n    </>\n  );\n};\n\nexport default DisplayCell;\n","import React from 'react';\n\nimport { Message } from '../../../Model/message';\nimport CompDisplayCell from '../../Component/Display/displayCell';\n\ntype DisplayCellProps = {\n  message: Message | null;\n};\n\nconst DisplayCell: React.FC<DisplayCellProps> = (props: DisplayCellProps) => {\n  const { message } = props;\n\n  return <CompDisplayCell message={message} />;\n};\n\nexport default DisplayCell;\n","import React from 'react';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableCell from '@material-ui/core/TableCell';\nimport Avatar from '@material-ui/core/Avatar';\n\nimport DisplayCell from '../../Container/Display/displayCell';\nimport { Message } from '../../../Model/message';\n\nconst useStyle = makeStyles(() =>\n  createStyles({\n    tableContainer: {\n      maxHeight: '100%',\n      gridRow: 4,\n      gridColumn: 2\n    },\n    table: {},\n    tableBody: {\n      textAlign: 'left'\n    }\n  })\n);\n\ntype DisplayProps = { messages: Message[] | null };\n\nconst Display: React.FC<DisplayProps> = (props: DisplayProps) => {\n  const styles = useStyle();\n  const { messages = null } = props;\n\n  return (\n    <>\n      <TableContainer className={styles.tableContainer}>\n        <Table className={styles.table} stickyHeader>\n          <TableBody className={styles.tableBody}>\n            {messages\n              ? [...Array(messages.length)].map((_, index) => (\n                  <DisplayCell key={`dispCell_${index}`} message={messages[index]} />\n                ))\n              : null}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </>\n  );\n};\n\nexport default Display;\n","import React, { useState, useEffect } from 'react';\nimport { db } from '../../../firebase';\nimport firebase from 'firebase';\nimport { Message } from '../../../Model/message';\n\nimport CompDisplay from '../../Component/Display/display';\n\nconst Display: React.FC = () => {\n  const [messages, setMessages] = useState<Array<Message> | null>(null);\n\n  useEffect(() => {\n    let id: number;\n    let unmounted = false;\n    const getMessage = async () => {\n      const messagesRef = db.collection('messages');\n      await messagesRef\n        .orderBy('createdAt', 'desc')\n        .limit(15)\n        .get()\n        .then((snapshot: firebase.firestore.QuerySnapshot) => {\n          const newMessages: any[] = [];\n          snapshot.forEach((doc) => {\n            newMessages.push({\n              ...doc.data()\n            });\n          });\n          if (!unmounted) setMessages(newMessages.reverse());\n        });\n    };\n    const timer = () => {\n      getMessage();\n      return window.setTimeout(() => {\n        id = timer();\n      }, 1000);\n    };\n    id = timer();\n    return () => {\n      unmounted = true;\n      clearTimeout(id);\n    };\n  }, [setMessages]);\n\n  return <CompDisplay messages={messages} />;\n};\n\nexport default Display;\n","import React from 'react';\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\nimport Box from '@material-ui/core/Box';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\n\nconst useStyle = makeStyles((theme: Theme) =>\n  createStyles({\n    input: {\n      gridRow: 2,\n      gridColumn: 2\n    },\n    buttonBox: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      gridRow: 2,\n      gridColumn: 3\n    },\n    button: {\n      width: '50%',\n      height: '75%',\n      display: 'block',\n      backgroundColor: `${theme.palette.primary}`\n    }\n  })\n);\n\ntype WritingSpaceProps = {\n  handleContentChange: (\n    e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>\n  ) => void;\n  submitError: boolean;\n  message: string;\n  handleOnSubmit: () => void;\n};\n\nconst WritingSpace: React.FC<WritingSpaceProps> = (props: WritingSpaceProps) => {\n  const styles = useStyle();\n  const {\n    handleContentChange = () => undefined,\n    submitError = false,\n    message = '',\n    handleOnSubmit = () => undefined\n  } = props;\n  return (\n    <>\n      {submitError ? (\n        <TextField\n          className={styles.input}\n          onChange={handleContentChange}\n          margin='dense'\n          id='message'\n          label='内容'\n          fullWidth\n          autoFocus\n          multiline\n          rows={3}\n          value={message}\n          error\n          helperText={'メッセージが入力されていません'}\n        />\n      ) : (\n        <TextField\n          className={styles.input}\n          onChange={handleContentChange}\n          margin='dense'\n          id='message'\n          label='内容'\n          fullWidth\n          autoFocus\n          multiline\n          rows={3}\n          value={message}\n        />\n      )}\n      <Box className={styles.buttonBox}>\n        <Button\n          onClick={handleOnSubmit}\n          className={styles.button}\n          variant='outlined'\n          color='primary'\n        >\n          {'送信'}\n        </Button>\n      </Box>\n    </>\n  );\n};\n\nexport default WritingSpace;\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport firebase from 'firebase/app';\nimport { createContext } from 'react';\n\nimport { User } from '../Model/user';\n\ntype FirebaseContextValue = {\n  auth: firebase.auth.Auth | null;\n  db: firebase.firestore.Firestore | null;\n};\n\nexport const FirebaseContext = createContext<FirebaseContextValue>({\n  auth: null,\n  db: null\n});\n\n//ログインしたユーザーの情報を格納しておくもの。\n//TwitterのスクリーンネームやユーザーID(19桁の数字)、プロフィール文といった情報はCredentialからしか取得できないので、それを\n//取りまわすためにcredentialとそのセッター関数のsetCredentialを要素に追加している。\ntype UserContextValue = {\n  user: User | null;\n  credential: firebase.auth.UserCredential | null;\n  setCredential: (credential: firebase.auth.UserCredential | null) => void;\n};\n\nexport const UserContext = createContext<UserContextValue>({\n  user: null,\n  credential: null,\n  setCredential: () => undefined\n});\n","import React, { useState, useContext } from 'react';\nimport CompWritingSpace from '../../Component/WritingSpace/writingSpace';\nimport firebase, { db } from '../../../firebase';\nimport { UserContext } from '../../../Context/contexts';\n\nconst WritingSpace: React.FC = () => {\n  const [message, setMessage] = useState<string>('');\n  const [submitError, setSubmitError] = useState<boolean>(false);\n  const { user } = useContext(UserContext);\n\n  const handleOnSubmit = () => {\n    if (message !== '' && user) {\n      db.collection('messages').doc().set({\n        message: message,\n        displayName: user.displayName,\n        screenName: user.screenName,\n        photoUrl: user.photoUrl,\n        createdAt: firebase.firestore.FieldValue.serverTimestamp()\n      });\n      setMessage('');\n    } else {\n      setSubmitError(true);\n    }\n  };\n\n  const handleContentChange = (\n    e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>\n  ) => {\n    setSubmitError(false);\n    setMessage(e.target.value);\n  };\n\n  return (\n    <CompWritingSpace\n      handleContentChange={handleContentChange}\n      submitError={submitError}\n      message={message}\n      handleOnSubmit={handleOnSubmit}\n    />\n  );\n};\n\nexport default WritingSpace;\n","import React from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\n\ntype InfDialogProps = {\n  infOpen: boolean;\n  title: string;\n  msgElm: React.ReactNode;\n  clickOK: () => void;\n  txtOK?: string;\n};\n\nconst InfDialog: React.FC<InfDialogProps> = (props: InfDialogProps) => {\n  const {\n    infOpen = false,\n    title = '',\n    msgElm = <></>,\n    clickOK = () => undefined,\n    txtOK = '了 解'\n  } = props;\n\n  return (\n    <Dialog open={infOpen}>\n      <DialogTitle>{title}</DialogTitle>\n      <DialogContent>\n        <DialogContentText>{msgElm}</DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={clickOK} color='primary' autoFocus>\n          {txtOK}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default InfDialog;\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\n\nimport CompInfDialog from '../../Component/Dialog/infDialog';\n\ntype InfDialogProps = {\n  infOpen: boolean;\n  title: string;\n  msg: string;\n  clickOK: () => void;\n  txtOK?: string;\n};\n\nconst InfDialog: React.FC<InfDialogProps> = (props: InfDialogProps) => {\n  const { infOpen, title, msg, clickOK, txtOK } = props;\n\n  const msgElm = (_msg: string) => {\n    const arrText = _msg.split('\\n');\n    return (\n      <>\n        {arrText.map((item, index) => (\n          <Typography component={'span'} key={`msgElm_${index}`}>\n            {item}\n          </Typography>\n        ))}\n      </>\n    );\n  };\n\n  return (\n    <CompInfDialog\n      infOpen={infOpen}\n      title={title}\n      msgElm={msgElm(msg)}\n      clickOK={clickOK}\n      txtOK={txtOK}\n    />\n  );\n};\n\nexport default InfDialog;\n","import React from 'react';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\n\nimport InfDialog from '../../../Utils/Container/Dialog/infDialog';\n\nconst useStyle = makeStyles(() =>\n  createStyles({\n    clockStyle: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      width: '100%',\n      height: '100%',\n      fontSize: '1.5em',\n      gridColumn: 3,\n      gridRow: 1\n    },\n    clockStyleDanger: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      width: '100%',\n      height: '100%',\n      fontSize: '1.5em',\n      color: '#ff1744',\n      gridColumn: 3,\n      gridRow: 1\n    }\n  })\n);\n\ntype TimerProps = {\n  tmMinutes: string;\n  tmSeconds: string;\n  danger: boolean;\n  isEnd: boolean;\n  clickOK: () => void;\n};\n\nconst Timer: React.FC<TimerProps> = (props: TimerProps) => {\n  const {\n    tmMinutes = '',\n    tmSeconds = '',\n    danger = false,\n    isEnd = false,\n    clickOK = () => undefined\n  } = props;\n  const styles = useStyle();\n\n  return (\n    <>\n      {danger ? (\n        <Paper className={styles.clockStyleDanger}>\n          {tmMinutes && tmSeconds ? tmMinutes + '分' + tmSeconds + '秒' : null}\n        </Paper>\n      ) : (\n        <Paper className={styles.clockStyle}>\n          {tmMinutes && tmSeconds ? tmMinutes + '分' + tmSeconds + '秒' : null}\n        </Paper>\n      )}\n      <InfDialog\n        infOpen={isEnd}\n        title={'時間終了です'}\n        msg={'お疲れ様でした。次の画面で画像をアップロードしてください'}\n        clickOK={clickOK}\n      />\n    </>\n  );\n};\n\nexport default Timer;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport moment, { Moment } from 'moment';\nimport { useHistory } from 'react-router-dom';\n\nimport CompTimer from '../../Component/Timer/timer';\n\nconst Timer: React.FC = () => {\n  const [end, setEnd] = useState<Moment | null>(null);\n  const [tmMinutes, setTmMinutes] = useState<string>('');\n  const [tmSeconds, setTmSeconds] = useState<string>('');\n  const [danger, setDanger] = useState<boolean>(false);\n  const [isEnd, setIsEnd] = useState<boolean>(false);\n  const history = useHistory();\n\n  useEffect(() => {\n    const dtNow = moment().startOf('day');\n    // const endTime = dtNow.add(18, 'hours');\n    const endTime = moment().add(15, 'seconds');\n    setEnd(endTime);\n  }, [setEnd]);\n\n  const updateTime = useCallback(async () => {\n    const dtNow = moment();\n    if (end) {\n      const timerDiff = end.diff(dtNow, 'second');\n      setTmMinutes(String(Math.floor(timerDiff / 60)));\n      setTmSeconds(String(timerDiff % 60));\n      if (timerDiff === 0) {\n        setIsEnd(true);\n      }\n      if (Math.floor(timerDiff / 60) <= 5) {\n        setDanger(true);\n      }\n    }\n  }, [end]);\n\n  useEffect(() => {\n    if (!isEnd) {\n      const updateTimeId = setInterval(updateTime, 500);\n      updateTime();\n      return () => {\n        clearInterval(updateTimeId);\n      };\n    } else {\n      return;\n    }\n  }, [updateTime, isEnd]);\n\n  const clickOK = useCallback(() => {\n    history.push('/upload');\n  }, []);\n\n  return (\n    <CompTimer\n      tmMinutes={tmMinutes}\n      tmSeconds={tmSeconds}\n      danger={danger}\n      isEnd={isEnd}\n      clickOK={clickOK}\n    />\n  );\n};\n\nexport default Timer;\n","import React from 'react';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\n\nconst useStyle = makeStyles(() =>\n  createStyles({\n    dispTheme: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      width: '100%',\n      height: '100%',\n      fontSize: '1.5em',\n      gridColumn: 1,\n      gridRow: 1\n    }\n  })\n);\n\ntype DispThemeProps = {\n  drawTheme: string;\n};\n\nconst DispTheme: React.FC<DispThemeProps> = (props: DispThemeProps) => {\n  const { drawTheme = '' } = props;\n  const styles = useStyle();\n\n  return <Paper className={styles.dispTheme}>{drawTheme}</Paper>;\n};\n\nexport default DispTheme;\n","import React, { useState, useEffect } from 'react';\n\nimport CompDispTheme from '../Component/dipTheme';\n\nconst DispTheme: React.FC = () => {\n  const [drawTheme, setDrawTheme] = useState<string>('');\n\n  useEffect(() => {\n    setDrawTheme('準備中');\n  }, []);\n  return <CompDispTheme drawTheme={drawTheme} />;\n};\n\nexport default DispTheme;\n","import React from 'react';\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\nimport Box from '@material-ui/core/Box';\nimport Display from '../Container/Display/display';\nimport WritingSpace from '../Container/WritingSpace/writingSpace';\nimport Timer from '../Container/Timer/timer';\nimport DispTheme from '../Container/dispTheme';\n\nconst useStyle = makeStyles((theme: Theme) =>\n  createStyles({\n    timer: {\n      gridRow: 2,\n      gridColumn: 2,\n      display: 'grid',\n      gridTemplateColumns: '68% 4% 28%',\n      gridTemplateRows: '100%'\n    },\n    display: {\n      gridRow: 4,\n      gridColumn: 2\n    },\n    writingSpace: {\n      display: 'grid',\n      gridTemplateRows: '2% 96% 2%',\n      gridTemplateColumns: '2% 68% 28% 2%',\n      width: '100%',\n      gridRow: 6,\n      gridColumn: 2,\n      borderColor: `${theme.palette.primary}`\n    }\n  })\n);\n\nconst Chat: React.FC = () => {\n  const styles = useStyle();\n  return (\n    <>\n      <Box className={styles.timer}>\n        <Timer />\n        <DispTheme />\n      </Box>\n      <Box className={styles.display}>\n        <Display />\n      </Box>\n      <Box className={styles.writingSpace}>\n        <WritingSpace />\n      </Box>\n    </>\n  );\n};\n\nexport default Chat;\n","import React from 'react';\nimport CompChat from '../Component/chat';\n\nconst Chat: React.FC = () => {\n  return <CompChat />;\n};\n\nexport default Chat;\n","import React from 'react';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport Box from '@material-ui/core/Box';\nimport Chat from '../Container/chat';\n\nconst useStyle = makeStyles(() =>\n  createStyles({\n    root: {\n      display: 'grid',\n      gridTemplateRows: '3% 10% 3% 70% 3% 10% 1%',\n      gridTemplateColumns: '10% 80% 10%',\n      height: 'calc(100vh - 70px)'\n    }\n  })\n);\n\nconst Main: React.FC = () => {\n  const styles = useStyle();\n  return (\n    <Box className={styles.root}>\n      <Chat />\n    </Box>\n  );\n};\n\nexport default Main;\n","import React from 'react';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\n\nimport InfDialog from '../../Utils/Container/Dialog/infDialog';\n\nconst useStyle = makeStyles(() =>\n  createStyles({\n    clockStyle: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      width: '100%',\n      height: '100%',\n      fontSize: '1.5em'\n    },\n    clockStyleDanger: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      width: '100%',\n      height: '100%',\n      fontSize: '1.5em',\n      color: '#ff1744'\n    }\n  })\n);\n\ntype TimerProps = {\n  tmMinutes: string;\n  tmSeconds: string;\n  danger: boolean;\n  isEnd: boolean;\n  clickOK: () => void;\n};\n\nconst Timer: React.FC<TimerProps> = (props: TimerProps) => {\n  const {\n    tmMinutes = '',\n    tmSeconds = '',\n    danger = false,\n    isEnd = false,\n    clickOK = () => undefined\n  } = props;\n  const styles = useStyle();\n\n  return (\n    <>\n      {danger ? (\n        <Paper className={styles.clockStyleDanger}>\n          {tmMinutes && tmSeconds ? tmMinutes + '分' + tmSeconds + '秒' : null}\n        </Paper>\n      ) : (\n        <Paper className={styles.clockStyle}>\n          {tmMinutes && tmSeconds ? tmMinutes + '分' + tmSeconds + '秒' : null}\n        </Paper>\n      )}\n      {isEnd ? (\n        <InfDialog\n          infOpen={isEnd}\n          title={'アップロード時間の終了です'}\n          msg={'お疲れ様でした。またの参加をお待ちしております。'}\n          clickOK={clickOK}\n        />\n      ) : null}\n    </>\n  );\n};\n\nexport default Timer;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport moment, { Moment } from 'moment';\nimport { useHistory } from 'react-router-dom';\n\nimport CompTimer from '../Component/timer';\n\ntype TimerProps = {\n  setTimerEnd: React.Dispatch<React.SetStateAction<boolean>>;\n};\n\nconst Timer: React.FC<TimerProps> = (props: TimerProps) => {\n  const { setTimerEnd } = props;\n  const [end, setEnd] = useState<Moment | null>(null);\n  const [tmMinutes, setTmMinutes] = useState<string>('');\n  const [tmSeconds, setTmSeconds] = useState<string>('');\n  const [danger, setDanger] = useState<boolean>(false);\n  const [isEnd, setIsEnd] = useState<boolean>(false);\n  const history = useHistory();\n\n  useEffect(() => {\n    const dtNow = moment().startOf('day');\n    // const endHour = dtNow.add(18, 'hours');\n    // const endTime = endHour.add(3, 'minutes');\n    const endTime = moment().add(30, 'seconds');\n    setEnd(endTime);\n  }, [setEnd]);\n\n  const updateTime = useCallback(async () => {\n    const dtNow = moment();\n    if (end) {\n      const timerDiff = end.diff(dtNow, 'second');\n      setTmMinutes(String(Math.floor(timerDiff / 60)));\n      setTmSeconds(String(timerDiff % 60));\n      if (timerDiff === 0) {\n        setTimerEnd(true);\n        setIsEnd(true);\n      }\n      if (Math.floor(timerDiff / 60) < 1) {\n        setDanger(true);\n      }\n    }\n  }, [end]);\n\n  useEffect(() => {\n    if (!isEnd) {\n      const updateTimeId = setInterval(updateTime, 500);\n      updateTime();\n      return () => {\n        clearInterval(updateTimeId);\n      };\n    } else {\n      return;\n    }\n  }, [updateTime, isEnd]);\n\n  const clickOK = useCallback(() => {\n    history.push('/');\n  }, []);\n\n  return (\n    <CompTimer\n      tmMinutes={tmMinutes}\n      tmSeconds={tmSeconds}\n      danger={danger}\n      isEnd={isEnd}\n      clickOK={clickOK}\n    />\n  );\n};\n\nexport default Timer;\n","import React from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\n\ntype CfmDialogProps = {\n  cfmOpen: boolean;\n  title: string;\n  msgElm: React.ReactNode;\n  clickOK: () => void;\n  clickNG: () => void;\n  txtOK?: string;\n  txtNG?: string;\n};\n\nconst CfmDialog: React.FC<CfmDialogProps> = (props: CfmDialogProps) => {\n  const {\n    cfmOpen = false,\n    title = '',\n    msgElm = <></>,\n    clickOK = () => undefined,\n    clickNG = () => undefined,\n    txtOK = '了 解',\n    txtNG = '取 消'\n  } = props;\n\n  return (\n    <Dialog open={cfmOpen}>\n      <DialogTitle>{title}</DialogTitle>\n      <DialogContent>\n        <DialogContentText>{msgElm}</DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={clickOK} color='primary' autoFocus>\n          {txtOK}\n        </Button>\n        <Button onClick={clickNG} color='primary' autoFocus>\n          {txtNG}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default CfmDialog;\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\n\nimport CompCfmDialog from '../../Component/Dialog/cfmDialog';\n\ntype CfmDialogProps = {\n  cfmOpen: boolean;\n  title: string;\n  msg: string;\n  clickOK: () => void;\n  clickNG: () => void;\n  txtOK?: string;\n  txtNG?: string;\n};\n\nconst CfmDialog: React.FC<CfmDialogProps> = (props: CfmDialogProps) => {\n  const { cfmOpen, title, msg, clickOK, clickNG, txtOK, txtNG } = props;\n\n  const msgElm = (_msg: string) => {\n    const arrText = _msg.split('\\n');\n    return (\n      <>\n        {arrText.map((item, index) => (\n          <Typography key={`msgElm_${index}`} component={'div'}>\n            {item}\n          </Typography>\n        ))}\n      </>\n    );\n  };\n\n  return (\n    <CompCfmDialog\n      cfmOpen={cfmOpen}\n      title={title}\n      msgElm={msgElm(msg)}\n      clickOK={clickOK}\n      clickNG={clickNG}\n      txtOK={txtOK}\n      txtNG={txtNG}\n    />\n  );\n};\n\nexport default CfmDialog;\n","import React from 'react';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport Fab from '@material-ui/core/Fab';\nimport ExitIcon from '@material-ui/icons/ExitToApp';\n\nimport CfmDialog from '../../Utils/Container/Dialog/cfmDialog';\n\nconst useStyle = makeStyles(() =>\n  createStyles({\n    exitfab: {\n      position: 'absolute',\n      bottom: '2rem',\n      right: '2rem',\n      '&:hover': {\n        backgroundColor: '#6666ff'\n      }\n    }\n  })\n);\n\ntype ExitBtnProps = {\n  cfmOpen: boolean;\n  setCfmOpen: React.Dispatch<React.SetStateAction<boolean>>;\n  onClick: () => void;\n  clickOK: () => void;\n};\n\nconst ExitBtn: React.FC<ExitBtnProps> = (props: ExitBtnProps) => {\n  const {\n    cfmOpen = false,\n    setCfmOpen = () => undefined,\n    onClick = () => undefined,\n    clickOK = () => undefined\n  } = props;\n  const styles = useStyle();\n  return (\n    <>\n      <Fab\n        className={styles.exitfab}\n        onClick={onClick}\n        color='primary'\n        aria-label='exit'\n      >\n        <ExitIcon />\n      </Fab>\n      {cfmOpen ? (\n        <CfmDialog\n          cfmOpen={cfmOpen}\n          title={'Attention!'}\n          msg={\n            'アプリから退出します。この操作は取り消せません。よろしいでしょうか？'\n          }\n          clickOK={clickOK}\n          clickNG={() => setCfmOpen(false)}\n        />\n      ) : null}\n    </>\n  );\n};\n\nexport default ExitBtn;\n","import React, { useCallback, useState } from 'react';\nimport { useHistory } from 'react-router';\n\nimport CompExitBtn from '../Component/exitBtn';\n\nconst ExitBtn: React.FC = () => {\n  const [cfmOpen, setCfmOpen] = useState<boolean>(false);\n  const history = useHistory();\n\n  const onClick = useCallback(() => {\n    setCfmOpen(true);\n  }, []);\n\n  const clickOK = useCallback(() => {\n    history.push('/');\n  }, []);\n\n  return (\n    <CompExitBtn\n      cfmOpen={cfmOpen}\n      setCfmOpen={setCfmOpen}\n      onClick={onClick}\n      clickOK={clickOK}\n    />\n  );\n};\n\nexport default ExitBtn;\n","import React from 'react';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Box from '@material-ui/core/Box';\nimport CardActions from '@material-ui/core/CardActions';\nimport TextField from '@material-ui/core/TextField';\nimport { DropzoneRootProps, DropzoneInputProps } from 'react-dropzone';\nimport MediaQuery from 'react-responsive';\nimport CardMedia from '@material-ui/core/CardMedia';\n\nconst useStyle = makeStyles(() =>\n  createStyles({\n    cardCommon: {\n      height: '100%',\n      display: 'grid',\n      gridTemplateRows: '3% 10% 3% 68% 3% 10% 3%'\n    },\n    header: {\n      gridRow: 2\n    },\n    contentCommon: {\n      display: 'grid',\n      gridTemplateRows: '100%',\n      gridRow: 4\n    },\n    content: {\n      gridRow: 1,\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      width: 'auto',\n      height: '100%'\n    },\n    media: {\n      height: 0,\n      paddingTop: '100%',\n      width: '100%',\n      objectFit: 'cover'\n    },\n    button: {\n      width: '100%',\n      height: '100%'\n    },\n    upload: {\n      gridRow: 6\n    }\n  })\n);\n\ntype UploadCardProps = {\n  getRootProps: <T extends DropzoneRootProps>(props?: T | undefined) => T;\n  getInputProps: <T extends DropzoneInputProps>(props?: T | undefined) => T;\n  myFiles: File[];\n  src: string;\n  clickable: boolean;\n  handleUpload: (accepterdImg: any) => Promise<void>;\n  title: string;\n  handleTitleChange: (\n    e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>\n  ) => void;\n  header: string;\n  subHeader: string;\n};\n\nconst UploadCard: React.FC<UploadCardProps> = (props: UploadCardProps) => {\n  const styles = useStyle();\n  const {\n    getRootProps = () => undefined,\n    getInputProps = () => undefined,\n    myFiles = [],\n    src = '',\n    clickable = false,\n    handleUpload = () => undefined,\n    title = '無題',\n    handleTitleChange = () => undefined,\n    header = '画像をアップロードしてください',\n    subHeader = 'ファイルの種類は「Jpeg」「Jpg」「Png」にしてください。'\n  } = props;\n  return (\n    <>\n      <MediaQuery query='(min-width:767px)'>\n        <Card className={styles.cardCommon}>\n          <CardHeader\n            className={styles.header}\n            title={header}\n            subheader={subHeader}\n          />\n          <CardContent className={styles.contentCommon}>\n            <Box {...getRootProps()} className={styles.content}>\n              <input {...getInputProps()} />\n              {myFiles.length === 0 ? (\n                <Button\n                  className={styles.button}\n                  color='secondary'\n                  fullWidth\n                  autoFocus\n                >\n                  Drag&Drop your images here\n                </Button>\n              ) : (\n                <Box className={styles.content}>\n                  {myFiles.map((file: File) => (\n                    <React.Fragment key={file.name}>\n                      {src && <img src={src} className={styles.content} />}\n                    </React.Fragment>\n                  ))}\n                </Box>\n              )}\n            </Box>\n          </CardContent>\n          <CardActions className={styles.upload}>\n            {myFiles.length !== 0 ? (\n              <TextField\n                label='タイトル'\n                fullWidth\n                id='title'\n                type='text'\n                value={title}\n                onChange={handleTitleChange}\n              />\n            ) : null}\n            <Button\n              className={styles.button}\n              disabled={!clickable}\n              type='submit'\n              variant='contained'\n              color='secondary'\n              fullWidth\n              style={{ marginTop: '16px' }}\n              onClick={() => handleUpload(myFiles)}\n            >\n              UPLOAD\n            </Button>\n          </CardActions>\n        </Card>\n      </MediaQuery>\n      <MediaQuery query='(max-width:767px)'>\n        <Card className={styles.cardCommon}>\n          <CardHeader\n            className={styles.header}\n            title={header}\n            subheader={subHeader}\n          />\n          <CardContent className={styles.contentCommon}>\n            <Box {...getRootProps()} className={styles.content}>\n              <input {...getInputProps()} />\n              {myFiles.length === 0 ? (\n                <Button\n                  className={styles.button}\n                  color='secondary'\n                  fullWidth\n                  autoFocus\n                >\n                  Drag&Drop your images here\n                </Button>\n              ) : (\n                <CardMedia image={src} className={styles.media} />\n              )}\n            </Box>\n          </CardContent>\n          <CardActions className={styles.upload}>\n            {myFiles.length !== 0 ? (\n              <TextField\n                label='タイトル'\n                fullWidth\n                id='title'\n                type='text'\n                value={title}\n                onChange={handleTitleChange}\n              />\n            ) : null}\n            <Button\n              className={styles.button}\n              disabled={!clickable}\n              type='submit'\n              variant='contained'\n              color='secondary'\n              fullWidth\n              style={{ marginTop: '5px' }}\n              onClick={() => handleUpload(myFiles)}\n            >\n              UPLOAD\n            </Button>\n          </CardActions>\n        </Card>\n      </MediaQuery>\n    </>\n  );\n};\n\nexport default UploadCard;\n","import React, { useState, useCallback, useContext } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport firebase, { storage, db } from '../../firebase';\nimport CompUploadCard from '../Component/uploadCard';\nimport { UserContext } from '../../Context/contexts';\n\ntype UploadCardProps = {\n  setIsUpd: React.Dispatch<React.SetStateAction<boolean>>;\n};\n\nconst UploadCard: React.FC<UploadCardProps> = (props: UploadCardProps) => {\n  const { setIsUpd } = props;\n  const [myFiles, setMyFiles] = useState<File[]>([]);\n  const [clickable, setClickable] = useState(false);\n  const [src, setSrc] = useState('');\n  const [title, setTitle] = useState<string>('無題');\n  const { user } = useContext(UserContext);\n  const [header, setHeader] = useState<string>('画像をアップロードしてください');\n  const [subHeader, setSubHeader] = useState<string>(\n    'ファイルの種類は「Jpeg」「Jpg」「Png」にしてください。'\n  );\n  //タイトルが変更されたとき\n  const handleTitleChange = (\n    e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>\n  ) => {\n    setTitle(e.target.value);\n  };\n\n  const onDrop = useCallback(async (acceptedFiles: File[]) => {\n    if (!acceptedFiles[0]) return;\n\n    try {\n      setMyFiles([...acceptedFiles]);\n      setClickable(true);\n      handlePreview(acceptedFiles);\n    } catch (error) {\n      alert(error);\n    }\n  }, []);\n\n  const onDropRejected = () => {\n    alert('画像のみ受け付けることができます。');\n  };\n\n  const { getRootProps, getInputProps } = useDropzone({\n    onDrop,\n    onDropRejected\n  });\n\n  const handleUpload = async (accepterdImg: any) => {\n    try {\n      //アップロード処理\n      const storageRef = storage.ref(`/images/${myFiles[0].name}`);\n      const uploadTask: any = storageRef.put(myFiles[0]);\n\n      uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED, next, error);\n    } catch (error) {\n      console.log('エラーキャッチ', error);\n    }\n  };\n\n  const postUrl = async () => {\n    const url = await storage.ref(`/images/${myFiles[0].name}`).getDownloadURL();\n    if (url !== '' && user) {\n      db.collection('images').doc().set({\n        title: title,\n        imageUrl: url,\n        screenName: user.screenName,\n        displayName: user.displayName,\n        iconUrl: user.photoUrl,\n        createdAt: firebase.firestore.FieldValue.serverTimestamp()\n      });\n    }\n  };\n\n  const next = (snapshot: { bytesTransferred: number; totalBytes: number }) => {\n    //進行中のsnapshotを得る\n    //アップロードの進行度を表示\n    const percent = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n    console.log(percent + '% done');\n    console.log(snapshot);\n    if (percent === 100) {\n      postUrl();\n      setClickable(false);\n      setIsUpd(true);\n      setHeader('画像がアップロードできました！');\n      setSubHeader(\n        '制限時間が終わると自動的に閲覧画面に移動します。制限時間が終わるまで今しばらくお待ちください。'\n      );\n    }\n  };\n\n  const error = (error: any) => {\n    alert(error);\n  };\n\n  const handlePreview = (files: any) => {\n    if (files === null) {\n      return;\n    }\n    const file = files[0];\n    if (file === null) {\n      return;\n    }\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => {\n      setSrc(reader.result as string);\n    };\n  };\n\n  return (\n    <CompUploadCard\n      getRootProps={getRootProps}\n      getInputProps={getInputProps}\n      myFiles={myFiles}\n      src={src}\n      clickable={clickable}\n      handleUpload={handleUpload}\n      title={title}\n      handleTitleChange={handleTitleChange}\n      header={header}\n      subHeader={subHeader}\n    />\n  );\n};\n\nexport default UploadCard;\n","import React from 'react';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport Box from '@material-ui/core/Box';\n\nimport Timer from '../Container/timer';\nimport ExitBtn from '../Container/exitBtn';\nimport UploadCard from '../Container/uploadCard';\n\nconst useStyle = makeStyles(() =>\n  createStyles({\n    timerDisp: {\n      gridRow: 2,\n      gridColumn: 2,\n      height: '100%'\n    },\n    uploadCommon: {\n      gridRow: 4,\n      gridColumn: 2,\n      height: '100%'\n    }\n  })\n);\n\ntype UploadProps = {\n  setTimerEnd: React.Dispatch<React.SetStateAction<boolean>>;\n  setIsUpd: React.Dispatch<React.SetStateAction<boolean>>;\n};\n\nconst Upload: React.FC<UploadProps> = (props: UploadProps) => {\n  const styles = useStyle();\n  const { setTimerEnd, setIsUpd } = props;\n  return (\n    <>\n      <Box className={styles.timerDisp}>\n        <Timer setTimerEnd={setTimerEnd} />\n      </Box>\n      <Box className={styles.uploadCommon}>\n        <UploadCard setIsUpd={setIsUpd} />\n      </Box>\n      <ExitBtn />\n    </>\n  );\n};\n\nexport default Upload;\n","import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router';\n\nimport CompUpload from '../Component/upload';\n\nconst Upload: React.FC = () => {\n  const [timerEnd, setTimerEnd] = useState<boolean>(false);\n  const [isUpd, setIsUpd] = useState<boolean>(false);\n  const history = useHistory();\n\n  useEffect(() => {\n    if (timerEnd && isUpd) {\n      history.push('dispPicture');\n    }\n  });\n\n  return <CompUpload setTimerEnd={setTimerEnd} setIsUpd={setIsUpd} />;\n};\n\nexport default Upload;\n","import React from 'react';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport Box from '@material-ui/core/Box';\nimport Upload from '../Container/upload';\nimport MediaQuery from 'react-responsive';\n\nconst useStyle = makeStyles(() =>\n  createStyles({\n    rootPC: {\n      display: 'grid',\n      gridTemplateRows: '5% 10% 5% 75% 5%',\n      gridTemplateColumns: '3% 94% 3%',\n      height: 'calc(100vh - 70px)'\n    },\n    rootPhone: {\n      display: 'grid',\n      gridTemplateRows: '2% 16% 2% 78% 2%',\n      gridTemplateColumns: '3% 94% 3%',\n      height: 'calc(100vh - 70px)'\n    }\n  })\n);\n\nconst Main: React.FC = () => {\n  const styles = useStyle();\n  return (\n    <>\n      <MediaQuery query='(min-width:767px)'>\n        <Box className={styles.rootPC}>\n          <Upload />\n        </Box>\n      </MediaQuery>\n      <MediaQuery query='(max-width:767px)'>\n        <Box className={styles.rootPhone}>\n          <Upload />\n        </Box>\n      </MediaQuery>\n    </>\n  );\n};\n\nexport default Main;\n","export const collectionName = {\n  users: 'users',\n  docCounters: 'docCounters',\n  favoriteUsers: 'favoriteUsers',\n  favoriteNum: 'favoriteNum',\n  favCounters: 'favCounters'\n} as const;\n","import React from 'react';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardActions from '@material-ui/core/CardActions';\nimport Avatar from '@material-ui/core/Avatar';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport IconButton from '@material-ui/core/IconButton';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport MediaQuery from 'react-responsive';\nimport Typography from '@material-ui/core/Typography';\n\nimport { Image } from '../../Model/image';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    rootPC: {\n      minWidth: 345\n    },\n    rootPhone: {\n      minWidth: 70\n    },\n    media: {\n      height: 0,\n      paddingTop: '100%',\n      width: '100%',\n      objectFit: 'cover'\n    },\n    button: {\n      color: '#f50057'\n    },\n    iconButton: {\n      '&:hover': {\n        backgroundColor: '#ffb7db'\n      }\n    }\n  })\n);\n\ntype DetailPictureProps = {\n  image: Image;\n  handleFavClick: () => void;\n  isFav: boolean;\n  isDisabled: boolean;\n  favCount: number;\n};\nconst DetailPicture: React.FC<DetailPictureProps> = (props: DetailPictureProps) => {\n  const {\n    image,\n    handleFavClick = () => undefined,\n    isFav = false,\n    isDisabled = false,\n    favCount = 0\n  } = props;\n  const styles = useStyles();\n\n  return (\n    <>\n      <MediaQuery query='(min-width:767px)'>\n        <Card className={styles.rootPC}>\n          {image.iconUrl ? (\n            <CardHeader\n              avatar={<Avatar src={image.iconUrl} />}\n              title={image.title}\n              subheader={image.displayName}\n            />\n          ) : (\n            <CardHeader\n              avatar={<AccountCircle />}\n              title={image.title}\n              subheader={image.displayName}\n            />\n          )}\n          <CardMedia className={styles.media} image={image.imageUrl} />\n          <CardActions>\n            <IconButton\n              aria-label='add to favorites'\n              className={styles.iconButton}\n              onClick={handleFavClick}\n              disabled={isDisabled}\n            >\n              {isFav ? <FavoriteIcon className={styles.button} /> : <FavoriteIcon />}\n            </IconButton>\n            {favCount === 0 ? null : <Typography>{favCount}</Typography>}\n          </CardActions>\n        </Card>\n      </MediaQuery>\n      <MediaQuery query='(max-width:767px)'>\n        <Card className={styles.rootPhone}>\n          {image.iconUrl ? (\n            <CardHeader\n              avatar={<Avatar src={image.iconUrl} />}\n              title={image.title}\n              subheader={image.displayName}\n            />\n          ) : (\n            <CardHeader\n              avatar={<AccountCircle />}\n              title={image.title}\n              subheader={image.displayName}\n            />\n          )}\n          <CardMedia className={styles.media} image={image.imageUrl} />\n          <CardActions>\n            <IconButton\n              aria-label='add to favorites'\n              className={styles.iconButton}\n              onClick={handleFavClick}\n              disabled={isDisabled}\n            >\n              {isFav ? <FavoriteIcon className={styles.button} /> : <FavoriteIcon />}\n            </IconButton>\n            {favCount === 0 ? null : <Typography>{favCount}</Typography>}\n          </CardActions>\n        </Card>\n      </MediaQuery>\n    </>\n  );\n};\n\nexport default DetailPicture;\n","import React, { useState, useEffect, useContext } from 'react';\nimport firebase, { db } from '../../firebase';\n\nimport { collectionName } from '../../Functions/constants';\nimport { Image } from '../../Model/image';\nimport CompDetailPicture from '../Component/detailPicture';\nimport { UserContext } from '../../Context/contexts';\n\ntype DetailPictureProps = {\n  image: Image;\n  favNum: number;\n  setFavNum: React.Dispatch<React.SetStateAction<number>>;\n};\nconst DetailPicture: React.FC<DetailPictureProps> = (props: DetailPictureProps) => {\n  const { image, favNum, setFavNum } = props;\n  const [isFav, setIsFav] = useState<boolean>(false);\n  const [isDisabled, setIsDisabled] = useState<boolean>(false);\n  const [favCount, setFavCount] = useState<number>(0);\n  const { user } = useContext(UserContext);\n\n  //ボタンの状態変化\n  const handleFavClick = () => {\n    if (isFav) {\n      setFavNum((prev) => prev + 1);\n      deleteFavorite();\n    } else {\n      setFavNum((prev) => prev - 1);\n      postFavorite();\n    }\n    setIsFav((prev) => !prev);\n  };\n\n  //いいねを追加。カウントも１追加\n  const postFavorite = async () => {\n    const batch = db.batch();\n    //ユーザーのスクリーン名とディスプレイネームを追加\n    if (image.id && user) {\n      const favoriteUsersDoc = db\n        .collection('images')\n        .doc(image.id)\n        .collection(collectionName.favoriteUsers)\n        .doc(user.screenName);\n\n      batch.set(favoriteUsersDoc, {\n        user: user.displayName\n      });\n\n      //全てのいいねの数をカウント\n      const favoriteNumDoc = db\n        .collection('images')\n        .doc(image.id)\n        .collection(collectionName.favoriteNum)\n        .doc(collectionName.favCounters);\n\n      batch.set(\n        favoriteNumDoc,\n        {\n          count: firebase.firestore.FieldValue.increment(1)\n        },\n        {\n          merge: true\n        }\n      );\n      await batch.commit();\n    }\n  };\n\n  //いいねの消去、カウントも１減算\n  const deleteFavorite = async () => {\n    const batch = db.batch();\n    if (image.id && user) {\n      //ユーザーのスクリーン名とディスプレイネームを消去\n      const favoriteUsersDoc = db\n        .collection('images')\n        .doc(image.id)\n        .collection(collectionName.favoriteUsers)\n        .doc(user.screenName);\n      batch.delete(favoriteUsersDoc);\n\n      const favoriteNumDoc = db\n        .collection('images')\n        .doc(image.id)\n        .collection(collectionName.favoriteNum)\n        .doc(collectionName.favCounters);\n\n      batch.set(\n        favoriteNumDoc,\n        {\n          count: firebase.firestore.FieldValue.increment(-1)\n        },\n        {\n          merge: true\n        }\n      );\n      await batch.commit();\n    }\n  };\n\n  useEffect(() => {\n    let id: number;\n    let unmounted = false;\n    const getFavCounts = async () => {\n      const favCountsRef = db\n        .collection('images')\n        .doc(image.id)\n        .collection(collectionName.favoriteNum)\n        .doc('favCounters');\n      await favCountsRef\n        .get()\n        .then((doc) => {\n          const getData: any = doc.data();\n          if (!unmounted) {\n            if (getData) {\n              setFavCount(getData.count);\n            } else {\n              setFavCount(0);\n            }\n          }\n        })\n        .catch((error) => {\n          console.log('Error getting document', error);\n        });\n    };\n    const timer = () => {\n      getFavCounts();\n      return window.setTimeout(() => {\n        id = timer();\n      }, 5000);\n    };\n    id = timer();\n    return () => {\n      unmounted = true;\n      clearTimeout(id);\n    };\n  }, [setFavCount]);\n\n  //いいねできる数の制限がきたら他のボタンを押せなくする\n  useEffect(() => {\n    if (favNum <= 0 && !isFav) {\n      setIsDisabled(true);\n    } else {\n      setIsDisabled(false);\n    }\n  }, [isFav, favNum]);\n\n  return (\n    <CompDetailPicture\n      image={image}\n      handleFavClick={handleFavClick}\n      isFav={isFav}\n      isDisabled={isDisabled}\n      favCount={favCount}\n    />\n  );\n};\n\nexport default DetailPicture;\n","import React from 'react';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport Fab from '@material-ui/core/Fab';\nimport ExitIcon from '@material-ui/icons/ExitToApp';\n\nimport CfmDialog from '../../Utils/Container/Dialog/cfmDialog';\n\nconst useStyle = makeStyles(() =>\n  createStyles({\n    exitfab: {\n      position: 'absolute',\n      bottom: '2rem',\n      right: '2rem',\n      '&:hover': {\n        backgroundColor: '#6666ff'\n      }\n    }\n  })\n);\n\ntype ExitBtnProps = {\n  cfmOpen: boolean;\n  setCfmOpen: React.Dispatch<React.SetStateAction<boolean>>;\n  onClick: () => void;\n  clickOK: () => void;\n};\n\nconst ExitBtn: React.FC<ExitBtnProps> = (props: ExitBtnProps) => {\n  const {\n    cfmOpen = false,\n    setCfmOpen = () => undefined,\n    onClick = () => undefined,\n    clickOK = () => undefined\n  } = props;\n  const styles = useStyle();\n  return (\n    <>\n      <Fab\n        className={styles.exitfab}\n        onClick={onClick}\n        color='primary'\n        aria-label='exit'\n      >\n        <ExitIcon />\n      </Fab>\n      {cfmOpen ? (\n        <CfmDialog\n          cfmOpen={cfmOpen}\n          title={'Attention!'}\n          msg={\n            'アプリから退出します。この操作は取り消せません。よろしいでしょうか？'\n          }\n          clickOK={clickOK}\n          clickNG={() => setCfmOpen(false)}\n        />\n      ) : null}\n    </>\n  );\n};\n\nexport default ExitBtn;\n","import React, { useCallback, useState } from 'react';\nimport { useHistory } from 'react-router';\n\nimport CompExitBtn from '../Component/exitBtn';\n\nconst ExitBtn: React.FC = () => {\n  const [cfmOpen, setCfmOpen] = useState<boolean>(false);\n  const history = useHistory();\n\n  const onClick = useCallback(() => {\n    setCfmOpen(true);\n  }, []);\n\n  const clickOK = useCallback(() => {\n    history.push('/');\n  }, []);\n\n  return (\n    <CompExitBtn\n      cfmOpen={cfmOpen}\n      setCfmOpen={setCfmOpen}\n      onClick={onClick}\n      clickOK={clickOK}\n    />\n  );\n};\n\nexport default ExitBtn;\n","import React from 'react';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport Box from '@material-ui/core/Box';\nimport Fab from '@material-ui/core/Fab';\nimport MediaQuery from 'react-responsive';\n\nimport { Image } from '../../Model/image';\nimport DetailPicture from '../Container/detailPicture';\nimport ExitBtn from '../Container/exitBtn';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    commonPC: {\n      marginTop: '30px'\n    },\n    commonPhone: {\n      marginTop: '5px'\n    },\n    countfab: {\n      position: 'absolute',\n      bottom: '2rem',\n      left: '2rem'\n    }\n  })\n);\n\ntype AllPictureProps = {\n  images: Image[] | null;\n  favNum: number;\n  setFavNum: React.Dispatch<React.SetStateAction<number>>;\n};\n\nconst AllPicture: React.FC<AllPictureProps> = (props: AllPictureProps) => {\n  const { images = null, favNum = 0, setFavNum = () => undefined } = props;\n  const styles = useStyles();\n\n  return (\n    <>\n      <MediaQuery query='(min-width:767px)'>\n        {images\n          ? [...Array(images.length)].map((_, index) => (\n              <Box className={styles.commonPC} key={`images_${index}`}>\n                <DetailPicture\n                  image={images[index]}\n                  favNum={favNum}\n                  setFavNum={setFavNum}\n                />\n              </Box>\n            ))\n          : null}\n      </MediaQuery>\n      <MediaQuery query='(max-width:767px)'>\n        {images\n          ? [...Array(images.length)].map((_, index) => (\n              <Box className={styles.commonPhone} key={`images_${index}`}>\n                <DetailPicture\n                  image={images[index]}\n                  favNum={favNum}\n                  setFavNum={setFavNum}\n                />\n              </Box>\n            ))\n          : null}\n      </MediaQuery>\n      <ExitBtn />\n      <Fab\n        className={styles.countfab}\n        color='secondary'\n        aria-label='count'\n        disabled={favNum === 0 ? true : false}\n      >\n        {favNum}\n      </Fab>\n    </>\n  );\n};\n\nexport default AllPicture;\n","import React, { useState, useEffect } from 'react';\nimport firebase, { db } from '../../firebase';\nimport { Image } from '../../Model/image';\n\nimport CompAllPicture from '../Component/allPicture';\n\nconst AllPicture: React.FC = () => {\n  const [images, setImages] = useState<Array<Image> | null>(null);\n  const [favNum, setFavNum] = useState<number>(2);\n\n  useEffect(() => {\n    let unmounted = false;\n    const getImages = async () => {\n      const imagesRef = db.collection('images');\n      await imagesRef\n        .orderBy('createdAt')\n        .get()\n        .then((snapshot: firebase.firestore.QuerySnapshot) => {\n          const newImages: any[] = [];\n          snapshot.forEach((doc) => {\n            newImages.push({\n              id: doc.id,\n              ...doc.data()\n            });\n          });\n          if (!unmounted) setImages(newImages);\n        });\n    };\n    getImages();\n    return () => {\n      unmounted = true;\n    };\n  }, []);\n\n  return <CompAllPicture images={images} favNum={favNum} setFavNum={setFavNum} />;\n};\n\nexport default AllPicture;\n","import React from 'react';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\n\nimport InfDialog from '../../Utils/Container/Dialog/infDialog';\n\nconst useStyle = makeStyles(() =>\n  createStyles({\n    clockStyle: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      width: '100%',\n      height: '100%',\n      fontSize: '1.5em',\n      padding: '1em'\n    },\n    clockStyleDanger: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      width: '100%',\n      height: '100%',\n      fontSize: '1.5em',\n      padding: '1em',\n      color: '#ff1744'\n    },\n    exitfab: {\n      position: 'absolute',\n      bottom: '2rem',\n      right: '2rem',\n      '&:hover': {\n        backgroundColor: '#6666ff'\n      }\n    }\n  })\n);\n\ntype TimerProps = {\n  tmMinutes: string;\n  tmSeconds: string;\n  danger: boolean;\n  isEnd: boolean;\n  clickOK: () => void;\n};\n\nconst Timer: React.FC<TimerProps> = (props: TimerProps) => {\n  const {\n    tmMinutes = '',\n    tmSeconds = '',\n    danger = false,\n    isEnd = false,\n    clickOK = () => undefined\n  } = props;\n  const styles = useStyle();\n\n  return (\n    <>\n      {danger ? (\n        <Paper className={styles.clockStyleDanger}>\n          {tmMinutes && tmSeconds ? tmMinutes + '分' + tmSeconds + '秒' : null}\n        </Paper>\n      ) : (\n        <Paper className={styles.clockStyle}>\n          {tmMinutes && tmSeconds ? tmMinutes + '分' + tmSeconds + '秒' : null}\n        </Paper>\n      )}\n      {isEnd ? (\n        <InfDialog\n          infOpen={isEnd}\n          title={'閲覧時間の終了です'}\n          msg={'長い時間お疲れさまでした。結果発表画面に移動します。'}\n          clickOK={clickOK}\n        />\n      ) : null}\n    </>\n  );\n};\n\nexport default Timer;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport moment, { Moment } from 'moment';\nimport { useHistory } from 'react-router-dom';\n\nimport CompTimer from '../Component/timer';\n\nconst Timer: React.FC = () => {\n  const [end, setEnd] = useState<Moment | null>(null);\n  const [tmMinutes, setTmMinutes] = useState<string>('');\n  const [tmSeconds, setTmSeconds] = useState<string>('');\n  const [danger, setDanger] = useState<boolean>(false);\n  const [isEnd, setIsEnd] = useState<boolean>(false);\n  const history = useHistory();\n\n  useEffect(() => {\n    const dtNow = moment().startOf('day');\n    // const endHour = dtNow.add(18, 'hours');\n    // const endTime = endHour.add(6, 'minutes');\n    const endTime = moment().add(30, 'seconds');\n    setEnd(endTime);\n  }, [setEnd]);\n\n  const updateTime = useCallback(async () => {\n    const dtNow = moment();\n    if (end) {\n      const timerDiff = end.diff(dtNow, 'second');\n      setTmMinutes(String(Math.floor(timerDiff / 60)));\n      setTmSeconds(String(timerDiff % 60));\n      if (timerDiff === 0) {\n        setIsEnd(true);\n      }\n      if (Math.floor(timerDiff / 60) < 1) {\n        setDanger(true);\n      }\n    }\n  }, [end]);\n\n  useEffect(() => {\n    if (!isEnd) {\n      const updateTimeId = setInterval(updateTime, 500);\n      updateTime();\n      return () => {\n        clearInterval(updateTimeId);\n      };\n    } else {\n      return;\n    }\n  }, [updateTime, isEnd]);\n\n  const clickOK = useCallback(() => {\n    history.push('/');\n  }, []);\n\n  return (\n    <CompTimer\n      tmMinutes={tmMinutes}\n      tmSeconds={tmSeconds}\n      danger={danger}\n      isEnd={isEnd}\n      clickOK={clickOK}\n    />\n  );\n};\n\nexport default Timer;\n","import React from 'react';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport Box from '@material-ui/core/Box';\n\nimport AllPicture from '../Container/allPicture';\nimport Timer from '../Container/timer';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    root: {\n      display: 'grid',\n      gridTemplateRows: '3% 10% 3% 81% '\n    },\n    timer: {\n      margin: '1em'\n    },\n    dispPictureCommon: {\n      display: 'flex',\n      flexWrap: 'wrap',\n      justifyContent: 'space-around',\n      paddingTop: '0.5%',\n      paddingLeft: '0.5%',\n      paddingRight: '0.5%'\n    }\n  })\n);\n\nconst DispPicture: React.FC = () => {\n  const styles = useStyles();\n\n  return (\n    <>\n      <Box className={styles.timer}>\n        <Timer />\n      </Box>\n      <Box className={styles.dispPictureCommon}>\n        <AllPicture />\n      </Box>\n    </>\n  );\n};\n\nexport default DispPicture;\n","import React from 'react';\n\nimport CompDispPicture from '../Component/dispPicture';\n\nconst DispPicture: React.FC = () => {\n  return <CompDispPicture />;\n};\n\nexport default DispPicture;\n","import React from 'react';\nimport DispPicture from '../Container/dispPicrue';\n\nconst Main: React.FC = () => {\n  return <DispPicture />;\n};\n\nexport default Main;\n","import React from 'react';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\n\nconst useStyle = makeStyles(() =>\n  createStyles({\n    msgStyle: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      width: '100%',\n      height: '100%',\n      fontSize: '1.5em',\n      padding: '1.5rem'\n    },\n    msgStyleMax: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      width: '100%',\n      height: '100%',\n      fontSize: '1.5em',\n      color: '#ff1744'\n    }\n  })\n);\n\ntype MsgDispProps = {\n  isMax: boolean;\n  msg: string;\n};\n\nconst MsgDisp: React.FC<MsgDispProps> = (props: MsgDispProps) => {\n  const { isMax = false, msg = '' } = props;\n  const styles = useStyle();\n\n  return (\n    <>\n      {isMax ? (\n        <Paper className={styles.msgStyleMax}>{msg}</Paper>\n      ) : (\n        <Paper className={styles.msgStyle}>{msg}</Paper>\n      )}\n    </>\n  );\n};\n\nexport default MsgDisp;\n","import React, { useState, useEffect } from 'react';\n\nimport CompMsgDisp from '../Component/msgDisp';\n\ntype MsgDispProps = {\n  isMax: boolean;\n};\n\nconst MsgDisp: React.FC<MsgDispProps> = (props: MsgDispProps) => {\n  const { isMax } = props;\n  const [msg, setMsg] = useState<string>('');\n\n  useEffect(() => {\n    if (isMax) {\n      setMsg('上限人数に達しました。');\n    } else {\n      setMsg('ログインを行ってエントリーボタンを押すと参加できます。');\n    }\n  }, [setMsg, isMax]);\n\n  return <CompMsgDisp isMax={isMax} msg={msg} />;\n};\n\nexport default MsgDisp;\n","import React from \"react\";\nimport { makeStyles, createStyles, Theme } from \"@material-ui/core/styles\";\nimport Box from \"@material-ui/core/Box\";\nimport MobileStepper from \"@material-ui/core/MobileStepper\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport KeyboardArrowLeft from \"@material-ui/icons/KeyboardArrowLeft\";\nimport KeyboardArrowRight from \"@material-ui/icons/KeyboardArrowRight\";\nimport SwipeableViews from \"react-swipeable-views\";\nimport { autoPlay } from \"react-swipeable-views-utils\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport MediaQuery from \"react-responsive\";\n\nimport { Image } from \"../../Model/image\";\n\nconst AutoPlaySwipeableViews = autoPlay(SwipeableViews);\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    commonPC: {\n      width: 500,\n      height: \"100%\",\n    },\n    commonPhone: {\n      width: \"100%\",\n      height: \"100%\",\n      alignItems: \"center\",\n    },\n    imgBoxPC: {\n      display: \"flex\",\n      alignItems: \"center\",\n    },\n    imgPC: {\n      maxHeight: 450,\n      display: \"block\",\n      maxWidth: \"100%\",\n      objectFit: \"cover\",\n    },\n    imgPhone: {\n      maxHeight: 300,\n      display: \"block\",\n      width: \"100%\",\n      objectFit: \"cover\",\n    },\n    button: {\n      width: \"100%\",\n    },\n  })\n);\n\ntype DispPictureProps = {\n  images: Image[] | null;\n  activeStep: number;\n  maxSteps: number;\n  handleNext: () => void;\n  handleBack: () => void;\n  handleStepChange: (step: number) => void;\n  image: Image | null;\n};\n\nconst DispPicture: React.FC<DispPictureProps> = (props: DispPictureProps) => {\n  const {\n    images = null,\n    activeStep = 0,\n    maxSteps = 0,\n    handleNext = () => undefined,\n    handleBack = () => undefined,\n    handleStepChange = () => undefined,\n    image = null,\n  } = props;\n  const styles = useStyles();\n\n  return (\n    <>\n      <MediaQuery query=\"(min-width:767px)\">\n        {images && image ? (\n          <Card className={styles.commonPC}>\n            {image.iconUrl ? (\n              <CardHeader\n                avatar={<Avatar src={image.iconUrl} />}\n                title={image.title}\n                subheader={image.displayName}\n              />\n            ) : (\n              <CardHeader\n                avatar={<AccountCircle />}\n                title={image.title}\n                subheader={image.displayName}\n              />\n            )}\n            <CardContent>\n              <AutoPlaySwipeableViews\n                axis={\"x-reverse\"}\n                index={activeStep}\n                onChangeIndex={handleStepChange}\n                enableMouseEvents\n              >\n                {images.map((image, index) => (\n                  <div key={index}>\n                    {Math.abs(activeStep - index) <= 2 ? (\n                      <img className={styles.imgPC} src={image.imageUrl} />\n                    ) : null}\n                  </div>\n                ))}\n              </AutoPlaySwipeableViews>\n            </CardContent>\n            <MobileStepper\n              steps={maxSteps}\n              position=\"static\"\n              variant=\"text\"\n              activeStep={activeStep}\n              nextButton={\n                <Button\n                  size=\"small\"\n                  onClick={handleNext}\n                  disabled={activeStep === maxSteps - 1}\n                >\n                  Next\n                  <KeyboardArrowRight />\n                </Button>\n              }\n              backButton={\n                <Button\n                  size=\"small\"\n                  onClick={handleBack}\n                  disabled={activeStep === 0}\n                >\n                  <KeyboardArrowLeft />\n                  Back\n                </Button>\n              }\n            />\n          </Card>\n        ) : null}\n      </MediaQuery>\n      <MediaQuery query=\"(max-width:767px)\">\n        {images && image ? (\n          <Card className={styles.commonPhone}>\n            {image.iconUrl ? (\n              <CardHeader\n                avatar={<Avatar src={image.iconUrl} />}\n                title={image.title}\n                subheader={image.displayName}\n              />\n            ) : (\n              <CardHeader\n                avatar={<AccountCircle />}\n                title={image.title}\n                subheader={image.displayName}\n              />\n            )}\n            <CardContent>\n              <AutoPlaySwipeableViews\n                axis={\"x-reverse\"}\n                index={activeStep}\n                onChangeIndex={handleStepChange}\n                enableMouseEvents\n              >\n                {images.map((image, index) => (\n                  <div key={index}>\n                    {Math.abs(activeStep - index) <= 2 ? (\n                      <img className={styles.imgPhone} src={image.imageUrl} />\n                    ) : null}\n                  </div>\n                ))}\n              </AutoPlaySwipeableViews>\n            </CardContent>\n            <CardActions>\n              <MobileStepper\n                className={styles.button}\n                steps={maxSteps}\n                position=\"static\"\n                variant=\"text\"\n                activeStep={activeStep}\n                nextButton={\n                  <Button\n                    size=\"small\"\n                    onClick={handleNext}\n                    disabled={activeStep === maxSteps - 1}\n                  >\n                    Next\n                    <KeyboardArrowRight />\n                  </Button>\n                }\n                backButton={\n                  <Button\n                    size=\"small\"\n                    onClick={handleBack}\n                    disabled={activeStep === 0}\n                  >\n                    <KeyboardArrowLeft />\n                    Back\n                  </Button>\n                }\n              />\n            </CardActions>\n          </Card>\n        ) : null}\n      </MediaQuery>\n    </>\n  );\n};\n\nexport default DispPicture;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport firebase, { db } from \"../../firebase\";\nimport { Image } from \"../../Model/image\";\n\nimport CompDispPicture from \"../../Home/Component/dispPicture\";\n\nconst DispPicture: React.FC = () => {\n  const [images, setImages] = useState<Array<Image> | null>(null);\n  const [activeStep, setActiveStep] = useState<number>(0);\n  const [maxSteps, setMaxSteps] = useState<number>(0);\n  const [image, setImage] = useState<Image | null>(null);\n\n  //前回の画像を取得\n  useEffect(() => {\n    let unmounted = false;\n    const getImages = async () => {\n      const imagesRef = db.collection(\"images\");\n      await imagesRef\n        .orderBy(\"createdAt\")\n        .get()\n        .then((snapshot: firebase.firestore.QuerySnapshot) => {\n          const newImages: any[] = [];\n          snapshot.forEach((doc) => {\n            newImages.push({\n              id: doc.id,\n              ...doc.data(),\n            });\n          });\n          if (!unmounted && newImages) {\n            setImages(newImages);\n            setMaxSteps(newImages.length);\n          }\n        });\n    };\n    getImages();\n    return () => {\n      unmounted = true;\n    };\n  }, []);\n\n  const handleNext = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\n  };\n\n  const handleBack = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\n  };\n\n  const handleStepChange = (step: number) => {\n    setActiveStep(step);\n  };\n\n  useEffect(() => {\n    if (images) {\n      setImage(images[activeStep]);\n    }\n  }, [images, activeStep]);\n\n  return (\n    <CompDispPicture\n      images={images}\n      activeStep={activeStep}\n      maxSteps={maxSteps}\n      handleNext={handleNext}\n      handleBack={handleBack}\n      handleStepChange={handleStepChange}\n      image={image}\n    />\n  );\n};\n\nexport default DispPicture;\n","import React from \"react\";\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\n\nimport InfDialog from \"../../../Utils/Container/Dialog/infDialog\";\n\nconst useStyle = makeStyles(() =>\n  createStyles({\n    button: {\n      width: \"70%\",\n      height: \"75%\",\n    },\n  })\n);\n\ntype EntryBtnProps = {\n  infOpen: boolean;\n  setInfOpen: React.Dispatch<React.SetStateAction<boolean>>;\n  entryClick: () => void;\n  isMax: boolean;\n  disabled: boolean;\n};\n\nconst EntryBtn: React.FC<EntryBtnProps> = (props: EntryBtnProps) => {\n  const {\n    infOpen = false,\n    setInfOpen = () => undefined,\n    entryClick = () => undefined,\n    isMax = false,\n    disabled = true,\n  } = props;\n  const styles = useStyle();\n\n  return (\n    <>\n      {disabled ? null : (\n        <Button\n          className={styles.button}\n          onClick={entryClick}\n          variant=\"outlined\"\n          color=\"primary\"\n          disabled={isMax}\n        >\n          {\"エントリー\"}\n        </Button>\n      )}\n      {infOpen ? (\n        <InfDialog\n          infOpen={infOpen}\n          title={\"上限人数に達しました\"}\n          msg={\"次回の開催までお待ちください\"}\n          clickOK={() => setInfOpen(false)}\n        />\n      ) : null}\n    </>\n  );\n};\n\nexport default EntryBtn;\n","import React, { useState, useCallback, useContext, useEffect } from 'react';\nimport { useHistory } from 'react-router';\nimport firebase, { db } from '../../../firebase';\n\nimport { UserContext } from '../../../Context/contexts';\nimport CompEntryBtn from '../../Component/Btn/entryBtn';\n\ntype EntryBtnProps = {\n  isMax: boolean;\n  setIsMax: React.Dispatch<React.SetStateAction<boolean>>;\n};\n\nconst EntryBtn: React.FC<EntryBtnProps> = (props: EntryBtnProps) => {\n  const { isMax, setIsMax } = props;\n  const [infOpen, setInfOpen] = useState<boolean>(false);\n  const history = useHistory();\n  const { user } = useContext(UserContext);\n  const [disabled, setDisabled] = useState<boolean>(true);\n\n  useEffect(() => {\n    if (user) {\n      setDisabled(false);\n    } else {\n      setDisabled(true);\n    }\n  }, [user]);\n\n  const doneEntry = async (numbers: number) => {\n    if (numbers === 20) {\n      await db\n        .collection('entryMembers')\n        .doc('entryNumber')\n        .set({\n          numbers: firebase.firestore.FieldValue.increment(1),\n          maximum: true\n        });\n    } else {\n      await db\n        .collection('entryMembers')\n        .doc('entryNumber')\n        .set(\n          {\n            numbers: firebase.firestore.FieldValue.increment(1),\n            maximum: false\n          },\n          { merge: true }\n        );\n    }\n  };\n\n  const getMember = async () => {\n    let unmounted = false;\n    const entoryMembersRef = db.collection('entryMembers').doc('entryNumber');\n    await entoryMembersRef\n      .get()\n      .then((doc) => {\n        if (doc.exists) {\n          const getData: any = doc.data();\n          if (!getData.maximum) {\n            doneEntry(getData.numbers);\n            history.push('/chat');\n          } else {\n            if (!unmounted) {\n              setInfOpen(true);\n              setIsMax(true);\n            }\n          }\n        } else {\n          doneEntry(0);\n          history.push('/chat');\n        }\n      })\n      .catch((error) => {\n        console.log('Error getting document', error);\n      });\n\n    return () => {\n      unmounted = true;\n    };\n  };\n\n  const entryClick = useCallback(() => {\n    getMember();\n  }, []);\n\n  return (\n    <CompEntryBtn\n      infOpen={infOpen}\n      setInfOpen={setInfOpen}\n      entryClick={entryClick}\n      isMax={isMax}\n      disabled={disabled}\n    />\n  );\n};\n\nexport default EntryBtn;\n","import React from 'react';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport firebase from 'firebase/app';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\n\nconst useStyle = makeStyles(() =>\n  createStyles({\n    title: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center'\n    }\n  })\n);\n\ntype LoginProps = {\n  uiConfig: firebaseui.auth.Config;\n  auth: firebase.auth.Auth | null;\n  open: boolean;\n  onClose: () => void;\n};\n\nconst Login: React.FC<LoginProps> = (props: LoginProps) => {\n  const { uiConfig, auth = null, open = false, onClose = () => undefined } = props;\n  const styles = useStyle();\n\n  return (\n    <>\n      <Dialog\n        open={open}\n        onClose={onClose}\n        aria-labelledby='form-dialog-title'\n        fullWidth\n      >\n        <DialogTitle className={styles.title}>ログイン / 新規登録</DialogTitle>\n        <DialogContent>\n          <StyledFirebaseAuth uiConfig={uiConfig} firebaseAuth={auth} />\n          <DialogContentText>\n            <Typography>{'エントリーするためにはログインが必要です。'}</Typography>\n            <Typography>\n              {\n                'なお、このアプリはユーザーの許可なくTwitterに投稿することはありません。'\n              }\n            </Typography>\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={onClose} color='primary'>\n            戻る\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n};\n\nexport default Login;\n","import React, { useContext } from 'react';\nimport { useHistory } from 'react-router';\nimport firebase from 'firebase/app';\nimport { FirebaseContext, UserContext } from '../../Context/contexts';\nimport CompLoginDialog from '../Component/loginDialog';\n\ntype LoginProps = {\n  open: boolean;\n  onClose: () => void;\n};\n\nconst LoginDialog: React.FC<LoginProps> = (props: LoginProps) => {\n  const { open, onClose } = props;\n  const { auth } = useContext(FirebaseContext);\n  const { setCredential } = useContext(UserContext);\n  const history = useHistory();\n\n  //react-firebaseuiのパッケージを使用、signInOptionsでプロバイダを増やせばそれに対応してログインボタンも増える。\n  const uiConfig: firebaseui.auth.Config = {\n    signInFlow: 'redirect',\n    signInOptions: [\n      {\n        provider: firebase.auth.TwitterAuthProvider.PROVIDER_ID,\n        customParameters: { lang: 'ja' }\n      }\n    ],\n    callbacks: {\n      signInFailure: (error) => {\n        console.log(error);\n      },\n      // ログインが成功した時に呼ばれるコールバック関数。authResultにCredential情報を、\n      //redirectUrlにsignInSuccessUrlというURLﾊﾟﾗﾒｰﾀで設定されていたパスを渡されるようになっている。\n      signInSuccessWithAuthResult: (authResult, redirectUrl) => {\n        //twitterのスクリーンネームやプロフィール文が格納されたCredentialはここでしか取得できないので\n        //過ぎにContextに格納する\n        setCredential(authResult as firebase.auth.UserCredential);\n        //trueで返すとredirectUrlにリダイレクトされ、アプリがリロードされるので、その前にreact-routerでアプリ内\n        //リダイレクトを設定してfalseを返している。\n        const dest = redirectUrl || '/home';\n        history.replace(dest);\n        return false;\n      }\n    }\n  };\n  return (\n    <CompLoginDialog uiConfig={uiConfig} auth={auth} open={open} onClose={onClose} />\n  );\n};\n\nexport default LoginDialog;\n","import React from \"react\";\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport LoginDialog from \"../../Container/loginDialog\";\n\nconst useStyle = makeStyles(() =>\n  createStyles({\n    button: {\n      width: \"70%\",\n      height: \"75%\",\n    },\n  })\n);\n\ntype LoginBtnProps = {\n  loginClick: () => void;\n  open: boolean;\n  onClose: () => void;\n  disabled: boolean;\n};\n\nconst LoginBtn: React.FC<LoginBtnProps> = (props: LoginBtnProps) => {\n  const {\n    loginClick = () => undefined,\n    open = false,\n    onClose = () => undefined,\n    disabled = false,\n  } = props;\n  const styles = useStyle();\n  return (\n    <>\n      <Button\n        className={styles.button}\n        onClick={loginClick}\n        variant=\"outlined\"\n        color=\"primary\"\n        disabled={disabled}\n      >\n        {disabled ? \"ログイン済\" : \"ログイン\"}\n      </Button>\n      <LoginDialog open={open} onClose={onClose} />\n    </>\n  );\n};\n\nexport default LoginBtn;\n","import React, { useCallback, useState, useContext, useEffect } from 'react';\n\nimport { UserContext } from '../../../Context/contexts';\nimport CompLoginBtn from '../../Component/Btn/loginBtn';\n\nconst LoginBtn: React.FC = () => {\n  const [open, setOpen] = useState<boolean>(false);\n  const [disabled, setDisabled] = useState<boolean>(false);\n  const { user } = useContext(UserContext);\n\n  useEffect(() => {\n    if (user) {\n      setDisabled(true);\n    } else {\n      setDisabled(false);\n    }\n  }, [user]);\n\n  const onClose = () => {\n    setOpen(false);\n  };\n\n  const loginClick = useCallback(() => {\n    setOpen(true);\n  }, []);\n\n  return (\n    <CompLoginBtn\n      loginClick={loginClick}\n      open={open}\n      onClose={onClose}\n      disabled={disabled}\n    />\n  );\n};\n\nexport default LoginBtn;\n","import React from \"react\";\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport Box from \"@material-ui/core/Box\";\nimport MediaQuery from \"react-responsive\";\n\nimport MsgDisp from \"../Container/msgDisp\";\nimport DispPicture from \"../Container/dispPicture\";\nimport EntryBtn from \"../Container/Btn/entryBtn\";\nimport LoginBtn from \"../Container/Btn/loginBtn\";\n\nconst useStyle = makeStyles(() =>\n  createStyles({\n    msgDisp: {\n      gridRow: 2,\n      gridColumn: 2,\n      height: \"100%\",\n    },\n    dispCommonPC: {\n      display: \"grid\",\n      gridTemplateColumns: \"50% 50%\",\n      gridTemplateRows: \"100%\",\n      gridRow: 4,\n      gridColumn: 2,\n    },\n    picDispPC: {\n      gridRow: 1,\n      gridColumn: 1,\n      height: \"100%\",\n    },\n    picDispPhone: {\n      gridRow: 4,\n      gridColumn: 2,\n      height: \"100%\",\n    },\n    buttonBoxPC: {\n      justifyContent: \"center\",\n      gridRow: 1,\n      gridColumn: 2,\n      display: \"grid\",\n      width: \"100%\",\n      gridTemplateColumns: \"100%\",\n      gridTemplateRows: \"12% 35% 6% 35% 12%\",\n    },\n    buttonBoxPhone: {\n      justifyContent: \"center\",\n      gridRow: 6,\n      gridColumn: 2,\n      display: \"grid\",\n      gridTemplateColumns: \"40% 20% 40%\",\n    },\n    entryPC: {\n      gridRow: 2,\n      width: \"100%\",\n    },\n    entryPhone: {\n      gridColumn: 1,\n    },\n    loginPC: {\n      gridRow: 4,\n      width: \"100%\",\n    },\n    loginPhone: {\n      gridColumn: 3,\n    },\n  })\n);\n\ntype HomeProps = {\n  isMax: boolean;\n  setIsMax: React.Dispatch<React.SetStateAction<boolean>>;\n};\n\nconst Home: React.FC<HomeProps> = (props: HomeProps) => {\n  const { isMax = false, setIsMax = () => undefined } = props;\n  const styles = useStyle();\n  return (\n    <>\n      <MediaQuery query=\"(min-width:767px)\">\n        <Box className={styles.msgDisp}>\n          <MsgDisp isMax={isMax} />\n        </Box>\n        <Box className={styles.dispCommonPC}>\n          <Box className={styles.picDispPC}>\n            <DispPicture />\n          </Box>\n          <Box className={styles.buttonBoxPC}>\n            <Box className={styles.entryPC}>\n              <EntryBtn isMax={isMax} setIsMax={setIsMax} />\n            </Box>\n            <Box className={styles.loginPC}>\n              <LoginBtn />\n            </Box>\n          </Box>\n        </Box>\n      </MediaQuery>\n      <MediaQuery query=\"(max-width:767px)\">\n        <Box className={styles.msgDisp}>\n          <MsgDisp isMax={isMax} />\n        </Box>\n        <Box className={styles.picDispPhone}>\n          <DispPicture />\n        </Box>\n        <Box className={styles.buttonBoxPhone}>\n          <Box className={styles.entryPhone}>\n            <EntryBtn isMax={isMax} setIsMax={setIsMax} />\n          </Box>\n          <Box className={styles.loginPhone}>\n            <LoginBtn />\n          </Box>\n        </Box>\n      </MediaQuery>\n    </>\n  );\n};\n\nexport default Home;\n","import React, { useEffect, useState } from 'react';\nimport { db } from '../../firebase';\nimport CompHome from '../Component/home';\n\nconst Home: React.FC = () => {\n  const [isMax, setIsMax] = useState<boolean>(false); //参加最大人数に達しているか\n\n  //firestoreから現在参加している人数を取得する\n  const getMember = async () => {\n    let unmounted = false;\n    const entoryMembersRef = db.collection('entryMembers').doc('entryNumber');\n    await entoryMembersRef\n      .get()\n      .then((doc) => {\n        if (!unmounted) {\n          if (doc.exists) {\n            const getData: any = doc.data();\n            //既に参加最大人数に達しているとき\n            if (getData.maximum) {\n              setIsMax(true);\n            } else {\n              setIsMax(false);\n            }\n          } else {\n            //まだ一人も参加していないとき\n            setIsMax(false);\n          }\n        }\n      })\n      .catch((error) => {\n        console.log('Error getting document', error);\n      });\n    return () => {\n      unmounted = true;\n    };\n  };\n\n  useEffect(() => {\n    getMember();\n  }, []);\n\n  return <CompHome isMax={isMax} setIsMax={setIsMax} />;\n};\n\nexport default Home;\n","import React from \"react\";\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport Box from \"@material-ui/core/Box\";\nimport Home from \"../Container/home\";\nimport MediaQuery from \"react-responsive\";\n\nconst useStyle = makeStyles(() =>\n  createStyles({\n    rootPC: {\n      display: \"grid\",\n      gridTemplateRows: \"3% 7% 3% 84% 3%\",\n      gridTemplateColumns: \"10% 80% 10%\",\n      height: \"calc(100vh - 70px)\",\n    },\n    rootPhone: {\n      display: \"grid\",\n      gridTemplateRows: \"3% 7% 3% 71% 3% 10% 3%\",\n      gridTemplateColumns: \"10% 80% 10%\",\n      height: \"calc(100vh - 70px)\",\n    },\n  })\n);\n\nconst Main: React.FC = () => {\n  const styles = useStyle();\n  return (\n    <>\n      <MediaQuery query=\"(min-width:767px)\">\n        <Box className={styles.rootPC}>\n          <Home />\n        </Box>\n      </MediaQuery>\n      <MediaQuery query=\"(max-width:767px)\">\n        <Box className={styles.rootPhone}>\n          <Home />\n        </Box>\n      </MediaQuery>\n    </>\n  );\n};\n\nexport default Main;\n","import React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport Avatar from '@material-ui/core/Avatar';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport LoginDialog from '../../Home/Container/loginDialog';\nimport { User } from '../../Model/user';\n\nconst useStyle = makeStyles(() =>\n  createStyles({\n    root: {\n      flexGrow: 1\n    }\n  })\n);\n\ntype HeaderProps = {\n  user: User | null;\n  isLogined: boolean;\n  handleMenu: (e: React.MouseEvent<HTMLElement>) => void;\n  anchorEl: HTMLElement | null;\n  menuOpen: boolean;\n  handleClose: () => void;\n  signOut: () => void;\n  dialogOpen: boolean;\n  setDialogOpen: React.Dispatch<React.SetStateAction<boolean>>;\n  loginClick: () => void;\n};\n\nconst Header: React.FC<HeaderProps> = (props: HeaderProps) => {\n  const {\n    user = null,\n    isLogined = false,\n    handleMenu = () => undefined,\n    anchorEl = null,\n    menuOpen = false,\n    handleClose = () => undefined,\n    signOut = () => undefined,\n    dialogOpen = false,\n    setDialogOpen = () => undefined,\n    loginClick = () => undefined\n  } = props;\n  const styles = useStyle();\n  return (\n    <div className={styles.root}>\n      <AppBar position='static'>\n        <Toolbar>\n          <IconButton\n            aria-label='account of current user'\n            aria-controls='menu-appbar'\n            aria-haspopup='true'\n            onClick={handleMenu}\n            color='inherit'\n          >\n            {user && user.photoUrl && isLogined ? (\n              <Avatar src={user.photoUrl} />\n            ) : (\n              <AccountCircle />\n            )}\n          </IconButton>\n          <Menu\n            id='menu-appbar'\n            anchorEl={anchorEl}\n            anchorOrigin={{\n              vertical: 'top',\n              horizontal: 'right'\n            }}\n            keepMounted\n            transformOrigin={{\n              vertical: 'top',\n              horizontal: 'right'\n            }}\n            open={menuOpen}\n            onClose={handleClose}\n          >\n            {isLogined ? (\n              <MenuItem onClick={signOut}>ログアウト</MenuItem>\n            ) : (\n              <MenuItem onClick={loginClick}>ログイン</MenuItem>\n            )}\n          </Menu>\n        </Toolbar>\n      </AppBar>\n      <LoginDialog open={dialogOpen} onClose={() => setDialogOpen(false)} />\n    </div>\n  );\n};\n\nexport default Header;\n","import React, { useContext, useState, useEffect } from 'react';\nimport { useHistory } from 'react-router';\n\nimport { UserContext, FirebaseContext } from '../../Context/contexts';\nimport CompHeader from '../Component/header';\n\nconst Header: React.FC = () => {\n  const { auth } = useContext(FirebaseContext);\n  const { user } = useContext(UserContext);\n  const [isLogined, setIsLogined] = useState<boolean>(false);\n  const [anchorEl, setAnchorEl] = useState<HTMLElement | null>(null);\n  const [dialogOpen, setDialogOpen] = useState<boolean>(false);\n  const history = useHistory();\n  const menuOpen = Boolean(anchorEl);\n  const signOut =\n    auth && user\n      ? () => {\n          setAnchorEl(null);\n          auth.signOut();\n          history.replace('/home');\n        }\n      : () => undefined;\n\n  const handleMenu = (e: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(anchorEl ? null : e.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const loginClick = () => {\n    setAnchorEl(null);\n    setDialogOpen(true);\n  };\n\n  useEffect(() => {\n    if (user) {\n      setIsLogined(true);\n    } else {\n      setIsLogined(false);\n    }\n  }, [user]);\n  return (\n    <CompHeader\n      user={user}\n      isLogined={isLogined}\n      handleMenu={handleMenu}\n      anchorEl={anchorEl}\n      menuOpen={menuOpen}\n      handleClose={handleClose}\n      signOut={signOut}\n      dialogOpen={dialogOpen}\n      setDialogOpen={setDialogOpen}\n      loginClick={loginClick}\n    />\n  );\n};\n\nexport default Header;\n","import React from 'react';\n\nimport Header from '../Container/header';\n\nconst Main: React.FC = () => {\n  return <Header />;\n};\n\nexport default Main;\n","import React from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport Chat from './Chat/Component/main';\nimport Upload from './Upload/Component/main';\nimport DispPicture from './DispPicture/Component/main';\nimport Home from './Home/Component/main';\nimport Header from './Header/Component/main';\n\nconst App: React.FC = () => {\n  return (\n    <>\n      <CssBaseline />\n      <Header />\n      <Switch>\n        <Route path={['/', '/home']} exact component={Home} />\n        <Route path={'/chat'} exact component={Chat} />\n        <Route path={'/upload'} exact component={Upload} />\n        <Route path={'/dispPicture'} exact component={DispPicture} />\n        <Redirect to='/' />\n      </Switch>\n    </>\n  );\n};\nexport default App;\n","import firebase from 'firebase/app';\nimport { User } from '../Model/user';\nimport { collectionName } from './constants';\n\nconst findUser = async (db: firebase.firestore.Firestore, id: string) => {\n  let theUser: User | null = null;\n  const userDoc = await db.collection(collectionName.users).doc(id).get();\n\n  if (userDoc.exists) {\n    const user = userDoc.data() as User;\n    theUser = { ...user, id: userDoc.id };\n  }\n\n  return theUser;\n};\n\nexport default findUser;\n","import firebase from 'firebase';\n\nexport type User = {\n  id?: string;\n  screenName: string;\n  displayName: string | null;\n  description: string | null;\n  photoUrl: string | null;\n  provider: string;\n  providerUid: string;\n  createdAt: firebase.firestore.Timestamp | null;\n  updatedAt: firebase.firestore.Timestamp | null;\n};\n\nexport const blankUser: User = {\n  screenName: '',\n  displayName: null,\n  description: null,\n  photoUrl: null,\n  provider: 'twitter',\n  providerUid: '',\n  createdAt: null,\n  updatedAt: null\n};\n","import firebase from 'firebase/app';\nimport { isEmpty } from 'lodash';\nimport { sprintf } from 'sprintf-js';\n\nimport { User, blankUser } from '../Model/user';\nimport { collectionName } from './constants';\n\nconst writeUser = async (\n  db: firebase.firestore.Firestore,\n  firebaseUser: firebase.User,\n  credential: firebase.auth.UserCredential\n) => {\n  const id = firebaseUser.uid;\n  const { displayName } = firebaseUser;\n  const photoUrl = firebaseUser.photoURL;\n  let providerUid = '';\n  let screenName = '';\n  let description = '';\n\n  if (credential.additionalUserInfo) {\n    if (credential.additionalUserInfo.username) {\n      screenName = credential.additionalUserInfo.username;\n    }\n    if (credential.additionalUserInfo.profile) {\n      /* eslint-disable @typescript-eslint/no-explicit-any */\n      providerUid = (credential.additionalUserInfo.profile as any).id_str;\n      description = (credential.additionalUserInfo.profile as any).description || '';\n      /* eslint-enable */\n    }\n  }\n\n  if (!providerUid || !screenName) {\n    throw new Error('Invalid credential information.');\n  }\n\n  // resolve screenname duplication\n  const query = await db\n    .collection(collectionName.users)\n    .where('screenName', '==', screenName)\n    .get();\n  if (query.size) {\n    const rnd = Math.floor(Math.random() * 10000);\n    screenName = `${screenName}${sprintf('%04d', rnd)}`;\n  }\n\n  let theUser: User | null = null;\n  const batch = db.batch();\n  const userDoc = await db.collection(collectionName.users).doc(id).get();\n\n  if (userDoc.exists) {\n    const user = userDoc.data() as User;\n    const diff: Partial<User> = {};\n    if (user.description !== description) {\n      diff.description = description;\n    }\n    if (user.displayName !== displayName) {\n      diff.displayName = displayName;\n    }\n    if (user.photoUrl !== photoUrl) {\n      diff.photoUrl = photoUrl;\n    }\n    if (!isEmpty(diff)) {\n      batch.update(userDoc.ref, {\n        ...diff,\n        updatedAt: firebase.firestore.FieldValue.serverTimestamp()\n      });\n    }\n    theUser = { ...diff, ...user, id: userDoc.id };\n  } else {\n    const user: User = {\n      ...blankUser,\n      providerUid,\n      screenName,\n      displayName,\n      description,\n      photoUrl\n    };\n    batch.set(userDoc.ref, {\n      ...user,\n      createdAt: firebase.firestore.FieldValue.serverTimestamp(),\n      updatedAt: firebase.firestore.FieldValue.serverTimestamp()\n    });\n    theUser = { ...user, id: userDoc.id };\n\n    const counterDoc = db\n      .collection(collectionName.docCounters)\n      .doc(collectionName.users);\n    batch.set(\n      counterDoc,\n      {\n        count: firebase.firestore.FieldValue.increment(1),\n        updatedAt: firebase.firestore.FieldValue.serverTimestamp()\n      },\n      { merge: true }\n    );\n  }\n  await batch.commit();\n\n  return theUser;\n};\n\nexport default writeUser;\n","import React, { FC, useEffect, useRef, useState } from 'react';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firestore';\n\nimport { User } from './Model/user';\nimport { FirebaseContext, UserContext } from './Context/contexts';\nimport findUser from './Functions/find-user';\nimport writeUser from './Functions/write-user';\n\nconst FirebaseApp: FC = ({ children }) => {\n  const [user, setUser] = useState<User | null>(null);\n  const [credential, setCredential] = useState<firebase.auth.UserCredential | null>(\n    null\n  );\n  const counterRef = useRef<number>(0);\n  const auth = firebase.auth();\n  const db = firebase.firestore();\n\n  //認証状態が変更されたときに引数として渡されたトリガー関数が実行されるオブザーバー\n  const unsubscribe = auth.onAuthStateChanged(async (firebaseUser) => {\n    if (firebaseUser) {\n      if (counterRef.current === 1 && credential) {\n        const theUser = await writeUser(db, firebaseUser, credential);\n        setUser(theUser);\n      } else if (!user) {\n        const theUser = await findUser(db, firebaseUser.uid);\n        setUser(theUser);\n      }\n    } else {\n      setUser(null);\n    }\n  });\n\n  useEffect(() => {\n    if (credential) counterRef.current += 1;\n\n    return unsubscribe;\n  });\n\n  return (\n    <FirebaseContext.Provider value={{ auth, db }}>\n      <UserContext.Provider value={{ user, credential, setCredential }}>\n        {children}\n      </UserContext.Provider>\n    </FirebaseContext.Provider>\n  );\n};\n\nexport default FirebaseApp;\n","import { createTheme } from '@material-ui/core/styles';\n\nexport const PCTheme = createTheme({\n  palette: {\n    primary: {\n      main: '#009688'\n    },\n    secondary: {\n      main: '#ff3d00'\n    }\n  }\n});\n\nexport const PhoneTheme = createTheme({\n  palette: {\n    primary: {\n      main: '#009688'\n    },\n    secondary: {\n      main: '#ff3d00'\n    }\n  },\n  typography: {\n    fontSize: 10\n  }\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport FirebaseApp from './FirebaseApp';\nimport { PCTheme, PhoneTheme } from './Style/theme';\nimport MediaQuery from 'react-responsive';\n\nReactDOM.render(\n  <>\n    <MediaQuery query='(min-width:767px)'>\n      <MuiThemeProvider theme={PCTheme}>\n        <Router>\n          <FirebaseApp>\n            <App />\n          </FirebaseApp>\n        </Router>\n      </MuiThemeProvider>\n    </MediaQuery>\n    <MediaQuery query='(max-width:767px)'>\n      <MuiThemeProvider theme={PhoneTheme}>\n        <Router>\n          <FirebaseApp>\n            <App />\n          </FirebaseApp>\n        </Router>\n      </MuiThemeProvider>\n    </MediaQuery>\n  </>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}